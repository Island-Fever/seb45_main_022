FROM openjdk:11

ENV AWS_ACCESS_KEY $AWS_ACCESS_KEY
ENV AWS_SECRET_KEY $AWS_SECRET_KEY
ENV DB_URL $DB_URL
ENV DB_USERNAME $DB_USERNAME
ENV DB_PASSWORD $DB_PASSWORD
ENV G_CLIENT_ID $G_CLIENT_ID
ENV G_CLIENT_SECRET $G_CLIENT_SECRET
ENV MAIL_USERNAME $MAIL_USERNAME
ENV MAIL_PASSWORD $MAIL_PASSWORD
ENV JWT_SECRET_KEY $JWT_SECRET_KEY

ARG JAR_FILE=build/libs/*.jar
COPY ${JAR_FILE} Code-State-Main-Project-0.0.1-SNAPSHOT.jar

ENTRYPOINT ["java", "-jar", "/Code-State-Main-Project-0.0.1-SNAPSHOT.jar"]